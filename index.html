<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component/dist/aframe-event-set-component.min.js"></script>
  </head>
  <body>
    <a-scene cursor="rayOrigin: mouse">
      <a-camera
        position="0.45 5 25"
        camera=""
        rotation=""
        look-controls=""
        wasd-controls=""
        data-aframe-inspector-original-camera=""
      ></a-camera>

      <a-entity
        class="stage"
        position="0 0 0"
        gltf-model="assets/ImageToStl.com_concert stage.glb"
      >
      </a-entity>

      <a-entity
        class="lamp"
        position="-11.57 2.56 0"
        gltf-model="assets/lamp.glb"
        scale="1.4 1.4 1.4"
      >
      </a-entity>

      <a-entity
        class="microphone"
        position="0.43 2.4 2"
        gltf-model="assets/broadcast_microphone.glb"
        scale="0.015 0.015 0.015"
      >
      </a-entity>

      <a-entity
        class="diva"
        position="0.43 2.4 14"
        scale="0.8 0.8 0.8"
        gltf-model="assets/diva_plavalagoona.glb"
        sound="src: url(sounds/The Diva Dance - Ã‰ric Serra.mp3); autoplay: true"
      >
      </a-entity>

      <a-entity
        class="moon"
        scale="0.02 0.02 0.02"
        position="0.63 15 -20"
        gltf-model="https://cdn.glitch.global/feb1a498-6e82-4cbc-88ad-1aa92994aa26/Moon_1_3474.glb?v=1705949402486"
        animation="property: rotation; to: 0 -360 0; loop: true; dur: 39900"
        changecolor
        event-set__scroll="_event: scroll; _target: #moon; components.changecolor.changeLightColor"
      ></a-entity>

      <a-entity
        class="stars"
        scale="1 1 1"
        position="0.63 15 -20"
        gltf-model="assets/stars_minecraft.glb"
        animation="property: rotation; to: 0 -360 0; loop: true; dur: 39900"
      ></a-entity>

      <a-sky color="#0A0640"></a-sky>

      <a-light
        intensity="6"
        type="point"
        light="intensity: 1; color: #ffffff"
        position="-13.77122 14.51167 30.02813"
        rotation="-4.42 -2.21 -6.940000000000001"
      >
      </a-light>

      <a-light
        id="colorChangingLight"
        light="intensity: 10; type: point; color: #4fd93a"
        position="0.63 -2.59251 -20"
      ></a-light>

      <a-entity>
        <button
          onclick="changeLightColor()"
          style="
            position: absolute;
            bottom: 10px;
            left: 10px;
            z-index: 999;
            background-color: transparent;
            border: 2px solid #fff;
            color: #fff;
            padding: 10px;
          "
        >
          Moon color
        </button>
      </a-entity>
      <button
    style="
      position: absolute;
      top: 20px;
      right: 20px;
      z-index: 999;
      background-color: transparent;
      border: 1px solid #C2BC76; 
      color: #C2BC76; 
      padding: 10px; 
    "
  >
  TONIGHT:  Diva Plavalaguna
  </button>

  <button
    style="
      position: absolute;
      top: 20px;
      left: 20px;
      z-index: 999;
      background-color: transparent;
      border: 1px solid #DB2E28; 
      color: #DB7358; 
      padding: 10px; 
    "
  >
  Post Organic Club
  </button>
      </a-entity>

      <script>
        const lightElement = document.getElementById("colorChangingLight");
        const colorPalette = ["#4fd93a", "#D93BA8", "#3F8395", "#C2BC76"];
        let currentColorIndex = 0;

        function changeLightColor() {
          const nextColor = colorPalette[currentColorIndex];
          lightElement.setAttribute("light", "color", nextColor);
          currentColorIndex = (currentColorIndex + 1) % colorPalette.length;
        }
      </script>

<script>

  AFRAME.registerComponent("scroll", {
    init: function () {
      this.el.addEventListener("scroll", this.handleScroll.bind(this));
    },
    handleScroll: function () {
      
      console.log("Scrolled!");
    },
  });
</script>
    </a-scene>
  </body>
</html>
